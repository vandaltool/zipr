     . ' |');
  # -------------- #
  # ----------------- #
  # ------------------ #
  # ------------------- #
  # -------------------- #
  # ---------------------- #
  # ---------------------------- #
  # ------------------------------- #
# --------
# -------------
# ------------------------
# -----------------------------
# -------------------------------
## ------ ##
## ---------- ##
## ----------- ##
      # 1.8 is the first version where aclocal supports force, hence
# 2007, 2008, 2009, 2010 Free Software Foundation, Inc.
	     'AC_CONFIG_AUX_DIR',
	     'AC_CONFIG_HEADERS',
	     'AC_CONFIG_SUBDIRS',
# AC_CONFIG_SUBDIRS will be traversed in &autoreconf_current_directory.
	     'AC_INIT',
  # aclocal 1.8+ does all this for free.  It can be recognized by its
	  # aclocal at first (before tracing), which, for instance,
ACLOCAL, AUTOPOINT, LIBTOOLIZE, M4, and MAKE are honored.
	      $aclocal_flags = $1;
      $aclocal    .= ' --force'
  $aclocal    .= join (' -I ', '', map { shell_quote ($_) } @include);
	      $aclocal_local_dir = $1;
	  # aclocal.m4.
	  # aclocal.m4, and doesn't change its timestamp.  But later,
      $_ = $aclocal_m4->getline;
      # aclocal may produce no output.
  $aclocal_supports_force = $aclocal_help =~ /--force/;
  $aclocal_supports_warnings = $aclocal_help =~ /--warnings/;
      $aclocal    .= ' --verbose';
      $aclocal    .= $warn
	     'AC_PROG_LIBTOOL',
  # AC_PROG_LIBTOOL, which we will trace later to see if Libtool is
	  # again.
	  # All the local files newer than aclocal.m4 are to be
# along with this program.  If not, see <http://www.gnu.org/licenses/>.
  # Always run it.  Tracking its sources for up-to-dateness is too
	     'AM_GNU_GETTEXT',
	     'AM_INIT_AUTOMAKE',
  # anyway we don't limit the generality, since... that's what
  @ARGV = map { /configure\.(ac|in)$/ ? dirname ($_) : $_ } @ARGV;
# (at your option) any later version.
    ("$autoconf"
      $autoconf   .= ' --debug';
      $autoconf   .= ' --force';
  $autoconf   .= join (' --include=', '', map { shell_quote ($_) } @include);
  $autoconf   .= join (' --prepend-include=', '', map { shell_quote ($_) } @prepend_include);
      $autoconf   .= ' --verbose';
      $autoconf   .= $warn;
      $autoheader .= ' --debug';
      $autoheader .= ' --force';
  $autoheader .= join (' --include=', '', map { shell_quote ($_) } @include);
  $autoheader .= join (' --prepend-include=', '', map { shell_quote ($_) } @prepend_include);
  # autoheader.  So all in all, autoconf should give better error
      $autoheader .= ' --verbose';
      $autoheader .= $warn;
" . Autom4te::ChannelDefs::usage . "
		    $automake, $aclocal,
      $automake   .= ' --add-missing';
  # Automake also needs an up-to-date aclocal.m4.
      $automake   .= ' --copy' unless $symlink;
      $automake   .= ' --force-missing'
      $automake .= ' --no-force'
	  # Automake's Makefile expresses that aclocal.m4 depends on
  $automake_supports_force_missing = $automake_help =~ /--force-missing/;
  $automake_supports_warnings = $automake_help =~ /--warnings/;
      $automake   .= ' --verbose';
      $automake   .= $warn
		    $autopoint,
  # autopoint does.  Actually, it is even more restrictive, as it
      $autopoint  .= ' --force';
	  autoreconf ($_);
# Autoreconf all the given configure.ac.  Unless `--no-recursive' is passed,
  autoreconf_current_directory;
# &autoreconf_current_directory
    autoreconf ($directory);
# &autoreconf ($DIRECTORY)
# autoreconf - install the GNU Build System in a directory tree
	     # `Autoreconf-preselections' section of autom4te.in.
	  # autoreconf, via update_file, sees it is the _same_
      $aux_dir = $args[0]           if $macro eq "AC_CONFIG_AUX_DIR";
  # $AUX_DIR.  But these tools fail to install these files if the
      # because the time-stamp-setting operation (utime) has a
  # between two --trace, that's useless.  If there is no AC_INIT, then
  -B, --prepend-include=DIR  prepend directory DIR to search path
	  'B|prepend-include=s'	 => \@prepend_include,
  # but in the meanwhile forget it.
# but WITHOUT ANY WARRANTY; without even the implied warranty of
By default, it only remakes those files that are older than their
	  # can find Gettext's macros in .../share/aclocal, so we may
  chdir $cwd
  chdir $directory
      chomp;
  # complex and too error prone.  The best we can do is avoiding
  # config.h.in when it sees an AC_CONFIG_HEADERS.
# Copyright (C) 1994, 1999, 2000, 2001, 2002, 2003, 2004, 2005, 2006,
Copyright (C) 2010 Free Software Foundation, Inc.
## cperl-brace-offset: 0
## cperl-continued-brace-offset: 0
## cperl-continued-statement-offset: 2
## cperl-extra-newline-before-brace: t
## cperl-indent-level: 2
## cperl-label-offset: -2
## cperl-merge-trailing-else: nil
  # date checks.
  -d, --debug              don't remove temporary files
		  debug "aging $file to be not newer than aclocal.m4";
DIRECTORIES and their subdirectories (defaulting to `.').
  # directory, and look for configure.ac again.  Because (i) the code
  # directory itself does not exist, which valid: just imagine a CVS
  # Dispatch autoreconf's option to the tools.
# Does aclocal support --force?
# Does aclocal support -Wfoo?
# Does automake support --force-missing?
# Does automake support -Wfoo?
# Does libtoolize support --install?
# Do not use Cwd::chdir, since it might hang.
  # don't run aclocal.
  # Don't try to be smarter than `autoconf', which does its own up to
  # e.g.: COMMAND.COM.  For DJGPP always use the shell that configure
      else
  elsif (!$install)
  elsif ($install || $libtoolize_supports_install)
      # ensuring that there is at least a one-second window before the
$ENV{'AUTOM4TE'} = $autom4te;
  $ENV{'SHELL'} = '/bin/bash' if ($^O eq 'dos');
$ENV{'TMPDIR'} = $tmp;
  error "$configure_ac: AM_GNU_GETTEXT is used, but not AM_GNU_GETTEXT_VERSION"
  error "$configure_ac: AM_GNU_GETTEXT_VERSION is used, but not AM_GNU_GETTEXT"
# etc. uselessly.  aclocal 1.8+ does not need this.
eval 'case $# in 0) exec /usr/bin/perl -S "$0";; *) exec /usr/bin/perl -S "$0" "$@";; esac'
  # Even if the user specified a configure.ac, trim to get the
# Extended and rewritten in Perl by Akim Demaille.
      # fall.
  -f, --force              consider all files obsolete
# files be at the same place.
	  # First, where are the local files?
  # for a Makefile.am!).
  # --force;
`--force' option.
  # --force support.
  foreach (@subdir)
  # format.
(formerly `gettextize'), and `libtoolize' where appropriate)
for my $directory (@ARGV)
	  for my $file (glob ("$aclocal_local_dir/*.m4"), 'acinclude.m4')
      for my $prog ($autoconf, $autoheader,
General help using GNU software: <http://www.gnu.org/gethelp/>.
# Generated from autoreconf.in; do not edit by hand.
  getopt ("W|warnings=s"         => \@warning,
  # Gettext consistency checks...
  # Gettext is a bit of a problem: its macros are not necessarily
GNU Autoconf home page: <http://www.gnu.org/software/autoconf/>.
# GNU General Public License for more details.
  # greps for `^AM_GNU_GETTEXT_VERSION('.  We did this above, while
  # has detected.
	  # have had the right aclocal.m4 already.  Then autopoint is
$help = "Usage: $0 [OPTION]... [DIRECTORY]...
  -h, --help               print this help, then exit
<http://gnu.org/licenses/gpl.html>, <http://gnu.org/licenses/exceptions.html>
    if 0;
	  if (/^ACLOCAL_[A-Z_]*FLAGS\s*=\s*(.*)/)
	      if ($aclocal_m4_mtime < mtime ($file))
  if ($aclocal_supports_force)
	if $aclocal_supports_force;
        if $aclocal_supports_warnings;
	if $automake_supports_force_missing;
	if $automake_supports_warnings;
      if (-d)
  if ($debug)
  if (defined $aux_dir && ! -d $aux_dir)
  if (-f 'aclocal.m4')
      if (-f 'aclocal.m4t')
      if (!-f "config.status")
  if (-f $configure_ac)
	  if ($flags =~ /-I\s+(\S+)/)
	  if (!-f "Makefile")
  if ($force)
  if ($install)
                                    if $macro eq "AC_CONFIG_SUBDIRS" && $recursive;
  if ($rerun_aclocal)
  if ($run_make)
  # If there are flags for aclocal in Makefile.am, use them.
      if (!$uses_aclocal)
  if (!$uses_aclocal)
  if ($uses_aclocal && -f 'Makefile.am')
  if (!$uses_autoconf)
  if (!$uses_autoheader)
  if (!$uses_automake)
  if (!$uses_gettext)
    if $uses_gettext && ! $uses_gettext_via_traces;
    if $uses_gettext_via_traces && ! $uses_gettext;
      if ($uses_libltdl)
  if (!$uses_libtool)
  if ($verbose > 1 || $debug)
  if ($verbose && $debug)
  if (@warning)
  # If we re-installed Libtool or Gettext, the macros might have changed.
	     # If you change this list, update the
  -I, --include=DIR          append directory DIR to search path
	  'I|include=s'          => \@include,
  -i, --install            copy missing auxiliary files
	  'i|install'            => \$install,
  # --include;
      # included in `$automake' via `--no-force'.
  # --install and --symlink;
# --install -- as --add-missing in other tools.
  # Is it using Autoconf?  #
  # is simpler, and (ii) we are still able to diagnose simultaneous
  # is used too.
  # itself.
# it under the terms of the GNU General Public License as published by
     . join (' ',
  # Just as for autoconf, up to date ness is performed by the tool
	      last;
  # latter runs the former, and (ii) autoconf is stricter than
# Lib files.
Library directories:
		    $libtoolize)
  # libtoolize, automake --add-missing etc. will drop files in the
  $libtoolize .= ' --copy' unless $symlink;
      $libtoolize .= ' --debug';
      $libtoolize .= ' --force';
      $libtoolize .= ' --install' if $libtoolize_supports_install;
	  $libtoolize .= " --ltdl";
  $libtoolize_supports_install = `$libtoolize --help` =~ /--install/;
License GPLv3+/Autoconf: GNU GPL version 3 or later
# List of command line warning requests.
  # lists.
## Local Variables:
	     'LT_CONFIG_LTDL_DIR',
	     'LT_INIT',
                                       || $macro eq "LT_INIT";
  # macros.
	  # made not newer than it.
## Main.  ##
	  # Make sure that the local m4 files are older than
	     map { ' --trace=' . $_ . ':\$n::\${::}%' }
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  # messages.
  # might think this approach is naive, and indeed it is, as it
      mkdir $aux_dir, 0755
mktmpdir ('ar');
	  'm|make'               => \$run_make,
  -m, --make               when applicable, re-run ./configure && make
	  # modification times of the local M4 files to be not newer
my $aclocal    = $ENV{'ACLOCAL'}    || 'aclocal';
  my ($aclocal, $flags) = @_;
  my $aclocal_flags = '';
  my $aclocal_help = `$aclocal --help 2>/dev/null`;
	  my $aclocal_local_dir = '.';
	  my $aclocal_m4_mtime = mtime ('aclocal.m4');
      my $aclocal_m4 = new Autom4te::XFile 'aclocal.m4';
my $aclocal_supports_force = 0;
my $aclocal_supports_warnings = 0;
my $autoconf   = $ENV{'AUTOCONF'}   || '/usr/bin/autoconf';
my $autoheader = $ENV{'AUTOHEADER'} || '/usr/bin/autoheader';
my $autom4te   = $ENV{'AUTOM4TE'}   || '/usr/bin/autom4te';
my $automake   = $ENV{'AUTOMAKE'}   || 'automake';
  my $automake_help = `$automake --help 2>/dev/null`;
my $automake_supports_force_missing = 0;
my $automake_supports_warnings = 0;
my $autopoint  = $ENV{'AUTOPOINT'}  || 'autopoint';
  my $aux_dir;
      my $configure_ac_file = new Autom4te::XFile "< $configure_ac";
  my $configure_ac = find_configure_ac;
  my $cwd = cwd;
  my ($directory) = @_;
my @include;
my $install = 0;
my $libtoolize = $ENV{'LIBTOOLIZE'} || 'libtoolize';
my $libtoolize_supports_install = 0;
      my ($macro, @args) = split (/::/);
my $make       = $ENV{'MAKE'}       || 'make';
      my $makefile = new Autom4te::XFile 'Makefile.am';
  my $pkgdatadir = $ENV{'autom4te_perllibdir'} || '/usr/share/autoconf';
my @prepend_include;
my $recursive = 1;
  my $rerun_aclocal = 0;
my $run_make = 0;
  my $srcdir;
  my @subdir;
my $symlink = 0;
  my $traces = new Autom4te::XFile
  my $uses_aclocal = 1;
  my $uses_autoconf;
  my $uses_autoheader;
  my $uses_automake;
  my $uses_gettext;
  my $uses_gettext_via_traces;
  my $uses_libltdl;
  my $uses_libtool;
my @warning;
      my $warn = ' --warnings=' . join (',', @warning);
  # Nevertheless, if aclocal.m4 exists and is not made by aclocal,
      --no-recursive       don't rebuild sub-packages
  # not.  I guess that once Gettext move to 2.5x we will be able to,
  # nuking the time stamp.
      # of Automake up to 1.8, so we avoid it in these cases.  (Automake
Operation modes:
    or error "cannot chdir to $cwd: $!";
    or error "cannot chdir to $directory: $!";
	or error "cannot create $aux_dir: $!";
  # Override SHELL.  On DJGPP SHELL may not be set to a shell
# overwrites aclocal.m4, hence triggers autoconf, autoheader, automake
  # package (think of a fresh CVS checkout), running `aclocal' first
# parse_args ()
parse_args;
  parse_WARNINGS;
  parse_warnings '--warnings', @warning;
  # Perform a single trace reading to avoid --force forcing a rerun
# -*- perl -*-
## perl-brace-imaginary-offset: 0
## perl-brace-offset: 0
## perl-continued-brace-offset: 0
## perl-continued-statement-offset: 2
## perl-indent-level: 2
## perl-label-offset: -2
  # presence of configure.ac and configure.in.
  # prevents one to embed AM_GNU_GETTEXT_VERSION in another *.m4, but
	  print STDERR "\n";
# Process any command line arguments.
  push @ARGV, '.' unless @ARGV;
      push @subdir, split (' ', $args[0])
# Reconf the $DIRECTORY.
# Recurse into subpackages
	  'recursive!'           => \$recursive);
repeatedly to remake the GNU Build System files in specified
Report bugs to <bug-autoconf\@gnu.org>.
  # repository with hand written code only (there is not even a need
    require_configure_ac ($directory);
      $rerun_aclocal = 1;
# Rerun `./configure && make'?
  # Rerunning aclocal.  #
      # resolution of only 1 second.  Work around the problem by
      return;
## Routines.  ##
      run_aclocal ($aclocal, $aclocal_flags);
	  run_aclocal ($aclocal, $aclocal_flags);
# &run_aclocal ($ACLOCAL, $FLAGS)
	  # run, and installs locally these M4 files.  Then
Run `autoconf' (and `autoheader', `aclocal', `automake', `autopoint'
      # run into trouble later, after we rerun autoconf and set the
  # Run it before automake, since the latter checks the presence of
  # Run it first: it might discover new macros to add, e.g.,
  # Running aclocal.  #
  # Running autoconf.  #
  # Running autoheader.  #
  # Running automake.  #
  # Running autopoint.  #
  # Running libtoolize.  #
  # Running make.  #
	  s/#.*//;
  # scanning configure.ac.
	  s/dnl.*//;
	  # See below for why we look for gettext here.
  # See what tools will be needed.  #
  # Setting up the source tree.  #
### Setup "GNU" style for perl-mode and cperl-mode.
      sleep 1;
      # Some file systems have sub-second time stamps, and if so we may
sources.  If you install new versions of the GNU Build System,
  # Split the warnings as a list of elements instead of a list of
	  's|symlink'            => \$symlink,
  -s, --symlink            with -i, install symbolic links instead of copies
sub autoreconf ($)
sub autoreconf_current_directory ()
sub parse_args ()
sub run_aclocal ($$)
support other warning types, using \`all' is encouraged.
# symlink -- when --install, use symlinks instead.
	  # than it.
  # that can handle redirection and quote arguments correctly,
      # the condition.)
The environment variables AUTOM4TE, AUTOCONF, AUTOHEADER, AUTOMAKE,
The environment variable \`WARNINGS\' is honored.  Some subtools might
  # The format for this message is not free: taken from Emacs, itself
  # The format is not free: taken from Emacs, itself using GNU Make's
# the Free Software Foundation, either version 3 of the License, or
      # The implementation of --no-force is bogus in all implementations
  # Therefore, we can't use the traces to decide if we use Gettext or
There is NO WARRANTY, to the extent permitted by law.
	  # these local files, which are newer, so it triggers aclocal
  # The subdirs are *optional*, they may not exist.
This is free software: you are free to change and redistribute it.
# This program is distributed in the hope that it will be useful,
# This program is free software: you can redistribute it and/or modify
      # time stamp of aclocal.m4t in which no file time stamps can
      # time stamps of input files to be no greater than aclocal.m4,
	  # To make sure aclocal.m4 is no older, we change the
	unless defined ($_) && /generated.*by aclocal/;
  unshift @INC, $pkgdatadir;
# Update aclocal.m4 as lazily as possible, as aclocal pre-1.8 always
	  update_file ('aclocal.m4t', 'aclocal.m4');
      # update the file or not.  In fact, the effect of `$force' is already
use Autom4te::ChannelDefs;
use Autom4te::Channels;
use Autom4te::Configure_ac;
use Autom4te::FileUtils;
use Autom4te::General;
use Autom4te::XFile;
use Cwd 'cwd';
  # used.
      $uses_aclocal = 0
	  $uses_autoconf = 1 if /AC_INIT/;
      $uses_autoconf = 1            if $macro eq "AC_INIT";
      $uses_autoheader = 1          if $macro eq "AC_CONFIG_HEADERS";
      $uses_automake = 1            if $macro eq "AM_INIT_AUTOMAKE";
	  $uses_gettext = 1  if /^AM_GNU_GETTEXT_VERSION/;
      $uses_gettext_via_traces = 1  if $macro eq "AM_GNU_GETTEXT";
      $uses_libltdl = 1             if $macro eq "LT_CONFIG_LTDL_DIR";
      $uses_libtool = 1             if $macro eq "AC_PROG_LIBTOOL"
use strict;
  # using GNU Make's format.
#! /usr/bin/perl -w
		  utime $aclocal_m4_mtime, $aclocal_m4_mtime, $file;
## Variables.  ##
	  verb "$configure_ac: adding subdirectory $_ to autoreconf";
      verb "$configure_ac: creating directory $aux_dir";
      verb "$configure_ac: not running autopoint: --install not given";
      verb "$configure_ac: not running libtoolize: --install not given";
      verb "$configure_ac: not using aclocal";
	  verb "$configure_ac: not using aclocal";
      verb "$configure_ac: not using Autoconf";
      verb "$configure_ac: not using Autoheader";
      verb "$configure_ac: not using Automake";
      verb "$configure_ac: not using Gettext";
      verb "$configure_ac: not using Libtool";
	  verb "$configure_ac: subdirectory $_ not present";
  verb "$configure_ac: tracing";
  verb "Entering directory `$directory'";
  verb "Leaving directory `$directory'";
	  verb "no config.status: cannot re-make";
	      verb "no Makefile: cannot re-make";
  # --verbose --verbose or --debug;
# $VERSION
$version = "autoreconf (GNU Autoconf) 2.68
  # visible to aclocal, so if we start with a completely striped down
  -v, --verbose            verbosely report processing
  -V, --version            print version number, then exit
  @warning = map { split /,/ } @warning;
  # --warnings;
  # we are not interested: it looks like a Cygnus thingy.
  # We can only grep for AM_GNU_GETTEXT_VERSION in configure.ac.  You
  # We might have to rerun aclocal if Libtool (or others) imports new
  # We now consider that if AC_CONFIG_HEADERS is used, then autoheader
  # We prefer running autoconf before autoheader, because (i) the
      # We should always run automake, and let it decide whether it shall
# When debugging, it is convenient that all the related temporary
      while ($_ = $configure_ac_file->getline)
      while ($_ = $makefile->getline)
  while ($_ = $traces->getline)
	  # Why is not always the case?  Because we already run
  # will fail: the Gettext macros are missing.
# Written by David J. MacKenzie.
Written by David J. MacKenzie and Akim Demaille.
  -W, --warnings=CATEGORY  report the warnings falling in CATEGORY [syntax]
      xsystem ("$aclocal $flags");
      xsystem ("$aclocal $flags --output=aclocal.m4t");
  xsystem ($autoconf);
      xsystem ($autoheader);
      xsystem ($automake);
	  xsystem ("./config.status");
	  xsystem ("./config.status --recheck");
      xsystem_hint ("autopoint is needed because this package uses Gettext", "$autopoint");
      xsystem_hint ("libtoolize is needed because this package uses Libtool", $libtoolize);
	      xsystem ("$make");
	  xsystem ("$prog --version | sed 1q >&2");
you can make `autoreconf' remake all of the files by giving it the
# You should have received a copy of the GNU General Public License
