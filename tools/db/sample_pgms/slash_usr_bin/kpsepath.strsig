action=kpsexpand
# available. Web2C's kpsewhich offers a superset of the functionality.
      base)		format='.base';;
  base          : Metafont memory dump
  bib           : BibTeX bibliography source
      bib)		format='.bib';;
#!/bin/sh
    *) break;;
  bst           : BibTeX style files
      bst)		format='.bst';;
case $0 in
    case "$1" in
case "$action" in
  case x"$1" in
      cnf)		format='.cnf';;
  cnf           : Kpathsea runtime configuration files
  dvips_config  : dvips config files
      dvips_config)	format='dvips config';;
  dvips_header  : dvips header files
      dvips_header)	format='.pro';;
      *)		echo "$progname: $1: unknown format"; echo "$usage"; exit 1;;
        echo "$progname: missing argument for -m."
        echo "$progname: missing argument for -n."
        echo "$usage"; exit 1
      else
    esac
export PATH
      fi;;
flags=''
        flags="$flags -mode=$2"; shift; shift
        flags="$flags -progname=$2"; shift; shift
      fmt)		format='.fmt';;
  fmt           : TeX memory dump
# For compatibilty with old versions of teTeX, this script provides the
      gf)		format='gf';;
  gf            : generic font bitmap
      if test $# = 1; then
  kpsepath)
  */kpsepath)  action=kpsepath;;
# kpsetool. Script to make teTeX-style kpsetool, kpsexpand and kpsepath
  kpsewhich)
  */kpsewhich) action=kpsewhich;;
    kpsewhich $flags -expand-var="$1";;
    kpsewhich $flags -format="$format" "$1";;
    kpsewhich $flags -show-path="$format";;
  kpsewhich|kpsepath)
  kpsexpand)
      mem)		format='.mem';;
  mem           : MetaPost memory dump
      mf)		format='.mf';;
  mf            : Metafont source
      mfpool)		format='.pool';;
  mfpool        : Metafont program strings
  -m mode      : set Metafont mode
      mp)		format='.mp';;
  mp            : MetaPost source
      mppool)		format='.pool';;
  mppool        : MetaPost program strings
      mpsupport)	format='MetaPost support';;
  mpsupport     : MetaPost support files
  -n progname  : pretend to be progname to kpathsea
# old command line interface of kpsetool, kpsexpand and kpsepath. All the
  -p           : act like kpsepath
      pict)		format='.eps';;
  pict          : Other kinds of figures
      pk)		format='pk';;
  pk            : packed bitmap font
progname=`echo $0 | sed 's@.*/@@'`
# real work is done inside Web2C's kpsewhich.
    shift;;
    test $# = 1 || { echo "$progname: missing filename"; echo "$usage"; exit 1; }
    test $# = 1 || { echo "$progname: missing string"; echo "$usage"; exit 1; }
      tex)		format='.tex';;
      texpool)		format='.pool';;
  texpool       : TeX program strings
  tex           : TeX source
      tfm)		format='.tfm';;
  tfm           : TeX font metrics
# Thomas Esser <te@dbs.uni-hannover.de>, Mar 1997, public domain.
      troff_font)	format='Troff fonts';;
  troff_font    : troff fonts
Usage: kpsepath  [options] pathtype
Usage: kpsetool -w [options] pathtype filename
Usage: kpsexpand [options] string
  -v           : act like kpsexpand
Valid options are the following:
Valid pathtypes are:
      vf)		format='.vf';;
  vf            : virtual font
while true; do
  -w           : locate files (similar to kpsewhich)
    x-m)
    x-n)
    x-p) action=kpsepath; shift;;
    x-v) action=kpsexpand; shift;;
    x-w) action=kpsewhich; shift;; 
