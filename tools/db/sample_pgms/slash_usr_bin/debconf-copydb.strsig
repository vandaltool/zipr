		%config=();
	"config|c=s"	=> \&config,
	$config{$field}=$value;
	$copier->copy($item, $src, $dest);
$copier->shutdown;
	db => $src, backupdb => $dest, name => 'copier');
Debconf::Db->load;
			Debconf::Db->makedriver(%config);
Debconf::Db->makedriver(%config) if %config;
die "$0: destination database, \"$destname\" does not exist\n" unless ref $dest;
die "$0: source database, \"$srcname\" does not exist\n" unless ref $src;
	die "Parse error: \"$_[1]\"" unless defined $field and length $field;
		elsif (%config) {
	exit(1);
	$field=lc($field);
	$field=~tr/-/_/;
			$fit_owner = 1 if $owner =~ /$owner_pattern/;
		foreach $owner ($src->owners($item)){
GetOptions(
		if ($config{name}) {
	if (defined $owner_pattern) {
	if ($field eq 'name') {
my %config;
my $copier=Debconf::DbDriver::Backup->new(
my $dest=Debconf::DbDriver->driver($destname);
my $destname=shift || usage();
	my ($field, $value)=split(/\s*:\s*/, $_[1], 2);
		my $fit_owner = 0;
my $i=$copier->iterator;
		my $owner;
my $owner_pattern;
my $pattern='.*';
my $src=Debconf::DbDriver->driver($srcname);
my $srcname=shift || usage();
		next unless $fit_owner;
	next unless $item =~ /$pattern/;
	"owner-pattern=s" => \$owner_pattern,
	"pattern|p=s"	=> \$pattern,
	print STDERR <<EOF;
sub config {
sub usage {
# This file was preprocessed, do not edit!
) || usage();
Usage: debconf-copydb sourcedb destdb [--pattern=pattern] [--owner-pattern=pattern] [--config=Foo:bar]
use Debconf::Db;
use Debconf::DbDriver;
use Debconf::DbDriver::Backup;
use Debconf::Log qw{:all};
use Getopt::Long;
use strict;
#!/usr/bin/perl -w
			warn "ignoring command line config data before $_[1]";
while (my $item=$i->iterate) {
