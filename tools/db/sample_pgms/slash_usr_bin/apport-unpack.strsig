# Author: Martin Pitt <martin.pitt@ubuntu.com>
# Copyright (c) 2006 Canonical Ltd.
dir = sys.argv[2]
    else:
# empty directory.
# ensure that the directory does not yet exist or is empty
    except IOError, e:
except OSError, e:
# Extract the fields of a problem report into separate files into a new or
            fatal(_('Destination directory exists and is not empty.'))
        fatal(str(e))
    fatal(str(e))
for k in pr:
# Free Software Foundation; either version 2 of the License, or (at your
from apport import unicode_gettext as _, fatal
gettext.textdomain('apport')
if len(sys.argv) != 3:
        if os.listdir(dir):
    if os.path.isdir(dir):
if report == '-':
import problem_report
import sys, os, os.path, gettext
    open(os.path.join(dir, k), 'w').write(pr[k])
# option) any later version.  See http://www.gnu.org/copyleft/gpl.html for
        os.mkdir(dir)
    print _('Usage: %s <report> <target directory>') % sys.argv[0]
        pr.load(open(report))
    pr.load(sys.stdin)
pr = problem_report.ProblemReport()
report = sys.argv[1]
    sys.exit(1)
# the full text of the license.
# This program is free software; you can redistribute it and/or modify it
    try:
# under the terms of the GNU General Public License as published by the
#!/usr/bin/python
