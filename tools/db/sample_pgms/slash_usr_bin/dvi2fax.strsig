  0) help >&2
#!/bin/sh
case $1 in
case $# in
dvipsconf=dfaxhigh; gsdev=dfaxhigh
dvips "$@" -P$dvipsconf -f |
  echo "Example: $progname foo -l 2"
  echo "  -hi: use high fax resolution (204x196) (default)"
  echo "  -lo: use low fax resolution (204x98)"
  echo "Usage: $progname [-hi|-lo] file[.dvi] [options for dvips]"
     exit 1
  gs -q -dSAFER -sDEVICE=$gsdev -sOutputFile="$NAME-%03d.fax" -sNOPAUSE -
# hack around a bug in zsh:
  -hi) gsdev=dfaxhigh; shift;;
  -lo) gsdev=dfaxlow; shift;;
NAME=`basename "$1" .dvi`
# options for dvips are passwd down
progname=`basename "$0"`
  && { RUNNING_BSH=true; export RUNNING_BSH; exec /bin/bsh $0 ${1+"$@"}; }
  && { RUNNING_SH5=true; export RUNNING_SH5; exec /bin/sh5 $0 ${1+"$@"}; }
test -f /bin/bsh && test -z "$RUNNING_BSH" \
test -f /bin/sh5 && test -z "$RUNNING_SH5" \
test -n "${ZSH_VERSION+set}" && alias -g '${1+"$@"}'='"$@"'
  && { UNAMES=`uname -s`; test "x$UNAMES" = xAIX; } 2>/dev/null \
  && { UNAMES=`uname -s`; test "x$UNAMES" = xULTRIX; } 2>/dev/null \
unset RUNNING_BSH
unset RUNNING_SH5
