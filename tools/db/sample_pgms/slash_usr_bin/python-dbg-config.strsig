        # add the prefix/lib/pythonX.Y/config dir, but only if there is no
def exit_with_usage(code=1):
    elif opt == '--exec-prefix':
    elif opt in ('--includes', '--cflags'):
    elif opt in ('--libs', '--ldflags'):
except getopt.error:
    exit_with_usage()
    exit_with_usage(code=0)
            flags.extend(getvar('CFLAGS').split())
        flags = ['-I' + sysconfig.get_python_inc(),
for opt in opt_flags:
from distutils import sysconfig
getvar = sysconfig.get_config_var
if '--help' in opt_flags:
            if not getvar('Py_ENABLE_SHARED'):
if not opts:
        if opt == '--cflags':
        if opt == '--ldflags':
    if opt == '--prefix':
import getopt
import os
import sys
                 '-I' + sysconfig.get_python_inc(plat_specific=True)]
                                            '|'.join('--'+opt for opt in valid_opts))
              'ldflags', 'help']
        libs.append('-lpython' + pyver + (sys.pydebug and "_d" or ""))
            libs.extend(getvar('LINKFORSHARED').split())
        libs = getvar('LIBS').split() + getvar('SYSLIBS').split()
                libs.insert(0, '-L' + getvar('LIBPL'))
opt_flags = [flag for (flag, val) in opts]
    opts, args = getopt.getopt(sys.argv[1:], '', valid_opts)
        print ' '.join(flags)
        print ' '.join(libs)
        print sysconfig.EXEC_PREFIX
        print sysconfig.PREFIX
    print >>sys.stderr, "Usage: %s [%s]" % (sys.argv[0],
pyver = sysconfig.get_config_var('VERSION')
        # shared library in prefix/lib/.
    sys.exit(code)
#! /usr/bin/python2.7-dbg
valid_opts = ['prefix', 'exec-prefix', 'includes', 'libs', 'cflags',
