B<dh_movefiles> is a debhelper program that is responsible for moving files
B<dh_movefiles> [S<I<debhelper options>>] [B<--sourcedir=>I<dir>] [B<-X>I<item>] S<I<file> ...>]
behind this is that the package that is being built can be told to install
being installed.
be moved. It is an error to list files here unless you use B<-p>, B<-i>, or B<-a> to
		chomp $pwd;
					$cmd.="-a ! \\( $dh{EXCLUDE_FIND} \\) ";
				$cmd.="-print || true) >> debian/movelist";
		complex_doit("(cd $sourcedir >/dev/null ; tar --create --files-from=$pwd/debian/movelist --file -) | (cd $tmp >/dev/null ;tar xpf -)");
		complex_doit("(cd $sourcedir >/dev/null ; tr '\\n' '\\0' < $pwd/debian/movelist | xargs -0 rm -f)");
				complex_doit($cmd);
        # debian/files has a different purpose, so ignore it.
deleted by B<dh_clean> later.
dh_movefiles - move files out of debian/tmp into subpackages
directories. This may be useful if your package has a F<Makefile> that installs
directory. Any files or directories that remain are ignored, and get
directory names, and the whole directory will be moved.
			doit("install","-d",$tmp);
		doit("rm","-f","debian/movelist");
			else {
		error("I was asked to move files from $sourcedir to $sourcedir. Perhaps you should set DH_COMPAT=2?");
		error("$sourcedir does not exist.");
			error("The sourcedir must be a relative filename, not starting with `/'.");
everything into F<debian/tmp>, and you need to break that up into subpackages.
Exclude files that contain B<item> anywhere in their filename from
# exiting with an error until all files have been tried
exit $ret;
# exit with the code in $ret. This program puts off 
	# expension is automatically done by filearray().
F<debian/tmp/>. You can also list directory names, and the whole directory will
filenames listed should be relative to F<debian/tmp/>. You can also list
				$file=~s:^\Q$sourcedir\E/+::;
# files that were specified to be moved, and we should
foreach my $package (@{$dh{DOPACKAGES}}) {
		foreach (@tomove) {
have instructed debhelper to use a compatibility level higher than one,
=head1 AUTHOR
=head1 DESCRIPTION
=head1 FILES
=head1 NAME
=head1 NOTES
=head1 OPTIONS
=head1 SEE ALSO
=head1 SYNOPSIS
		# However, filearray() does not add the sourcedir,
				if ($dh{EXCLUDE_FIND}) {
	if ($dh{SOURCEDIR}) {
		if ($dh{SOURCEDIR}=~m:^/:) {
	if (! -d $sourcedir) {
		if (! -d $tmp) {
			if (! -e $file && ! -l $file && ! $dh{NO_ACT}) {
	if ($files && $files ne "debian/files" ) {
	if (($package eq $dh{FIRSTPACKAGE} || $dh{PARAMS_ALL}) && @ARGV) {
# If $ret is set, we wern't actually able to find some 
	if (@tomove) {
	if (@tomove && compat(2)) {
	if (@tomove && $tmp eq $sourcedir) {
init(options => {
Instead of moving files out of F<debian/tmp> (the default), this option makes
into F<debian/tmp>, and then files can be moved by B<dh_movefiles> from that
it cannot begin with a `B</>'.
=item B<--sourcedir=>I<dir>
=item B<-Xitem>, B<--exclude=item>
=item debian/I<package>.files
=item I<file> ...
it instead of B<dh_movefiles>.
it move files out of some other directory. Since the entire contents of
Joey Hess <joeyh@debian.org>
L<debhelper(7)>
Lists files to move. The filenames listed should be relative to
Lists the files to be moved into a package, separated by whitespace. The
				my $cmd="(cd $sourcedir >/dev/null ; find $file ! -type d ";
			my $file=$_;
		my @filelist=();
	my $files=pkgfile($package,"files");
		my $pwd=`pwd`;
my $ret=0;
	my $sourcedir="debian/tmp";
	my $tmp=tmpdir($package);
	my @tomove;
Note: B<dh_install> is a much better program, and you are recommended to use
Note that files are always moved out of F<debian/tmp> by default (even if you
	# Now we need to expand wildcards in @tomove.
out of F<debian/tmp> or some other directory and into other package build
# packages that arn't always sure exactly which files need
		# preserve hard links
			push @filelist, glob("$sourcedir/$_");
		push @tomove, @ARGV;
		# --remove-files is not used above because tar then doesn't
				$ret=1;
		$sourcedir=$dh{SOURCEDIR};
	"sourcedir=s" => \$dh{SOURCEDIR},	
tell B<dh_movefiles> which subpackage to put them in.
the sourcedir is moved, specifying something like B<--sourcedir=/> is very
	# This is only necessary in pre-v3 land -- as of v3, the
This program is a part of debhelper.
# to be moved.
# to be moved, because this makes it easier for some 
		@tomove=filearray($files, $sourcedir);
		@tomove=@filelist;
		@tomove = map { "$sourcedir/$_" } @tomove;
unsafe, so to prevent mistakes, the sourcedir must be a relative filename;
use Debian::Debhelper::Dh_Lib;
use strict;
#!/usr/bin/perl -w
				warning("$file not found (supposed to put it in $package)");
which does not otherwise use debian/tmp for anything at all). The idea
		# which we need.
