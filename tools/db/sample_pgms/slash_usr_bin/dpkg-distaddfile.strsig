# along with this program.  If not, see <http://www.gnu.org/licenses/>.
@ARGV == 3 || usageerr(_g("need exactly a filename, section and priority"));
# (at your option) any later version.
# but WITHOUT ANY WARRANTY; without even the implied warranty of
close(Y) || syserr(_g("close new files list file"));
Copyright (C) 1996 Ian Jackson.");
# dpkg-distaddfile
    } else {
} elsif ($! != ENOENT) {
    } elsif (m/^--$/) {
    } elsif (m/^-(h|-help)$/) {
    } elsif (m/^--version$/) {
    error(_g("filename, section and priority may contain no whitespace"));
        exit(0);
  -f<fileslistfile>        write files here instead of debian/files.
($file =~ m/\s/ || $section =~ m/\s/ || $priority =~ m/\s/) &&
        $fileslistfile= $';
$fileslistfile="./$fileslistfile" if $fileslistfile =~ m/^\s/;
# GNU General Public License for more details.
  -h, --help               show this help message.
    if (m/^-f/) {
if (open(X,"< $fileslistfile")) {
# it under the terms of the GNU General Public License as published by
        last;
later for copying conditions. There is NO warranty.
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
my ($file, $section, $priority) = @ARGV;
my $fileslistfile = 'debian/files';
        next if m/^(\S+) / && $1 eq $file;
open(Y, "> $fileslistfile.new") || syserr(_g("open new files list file"));
Options:
    printf _g(
    printf _g("
    printf _g("Debian %s version %s.\n"), $progname, $version;
print(Y "$file $section $priority\n")
        print(Y "$_\n") || syserr(_g("copy old entry to new files list file"));
"), $progname;
rename("$fileslistfile.new", $fileslistfile) ||
    $_=shift(@ARGV);
        s/\n$//;
sub usage {
sub version {
    syserr(_g("install new files list file"));
    syserr(_g("read old files list file"));
    || syserr(_g("write new entry to new files list file"));
textdomain("dpkg-dev");
# the Free Software Foundation; either version 2 of the License, or
This is free software; see the GNU General Public License version 2 or
# This program is distributed in the hope that it will be useful,
# This program is free software; you can redistribute it and/or modify
        usage();
        usageerr(_g("unknown option \`%s'"), $_);
"Usage: %s [<option>...] <filename> <section> <priority>
use Dpkg;
use Dpkg::ErrorHandling;
use Dpkg::Gettext;
use POSIX;
use POSIX qw(:errno_h :signal_h);
use strict;
use warnings;
#!/usr/bin/perl
        version();
      --version            show the version.
while (@ARGV && $ARGV[0] =~ m/^-/) {
    while (<X>) {
# You should have received a copy of the GNU General Public License
