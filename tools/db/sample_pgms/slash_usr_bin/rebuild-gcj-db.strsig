#! /bin/bash
case "$1" in
	case "$uname" in
	case "$uname" in m68k)
	#case "$uname" in parisc*)
    cat 1>&2 <<-EOF
	$dbLocation \
    dbLocation=$1; shift
    dbLocation=`$dbtool -p || true`
	$dbtool \
    dbtool=$1; shift
    dbtool=gcj-dbtool-$1
    dirs=
	    echo >&2 "$dbtool succeeded unexpectedly"
	#    echo >&2 "$dbtool succeeded unexpectedly"
	        echo >&2 "ERROR: $dbtool did fail; known problem on $uname"
    else
    exit 1
		exit 2
    find $dirs -follow -name '*.db' -print0 | \
    for dir; do [ -d $dir ] && dirs="$dirs $dir"; done
    if $dbtool -n $dbLocation.tmp 64; then
if [ $# -gt 1 ]; then
    if [ "$mode" = remove ] && [ ! -f "$dbLocation" ]; then
    if [ -n "$dbLocation" ]; then
if which gcj-dbtool-4.4 >/dev/null 2>&1; then
if which gcj-dbtool-4.5 >/dev/null 2>&1; then
if which gcj-dbtool-4.6 >/dev/null 2>&1; then
    if [ -z "$dirs" ]; then
    install|remove)
	# libgcj7-0 or libgcj8 are already removed; no need
	    m68k)
    mkdir -p $(dirname $dbLocation)
	mode=$1;;
mode=install
    mv $dbLocation.tmp $dbLocation
	# no more dirs with .db files on the system
rebuild_databases()
    rebuild_databases 4.4
    rebuild_databases 4.5
    rebuild_databases 4.6
    rebuild_db \
rebuild_db()
	rebuild-gcj-db: re-build the gcj classmap database
		return 0;;
	return 0
# still different databases for each gcj-4.x
	# to rebuild anything
uname=$(uname -m)
	usage: $0 [install|remove]
	/usr/share/gcj/classmap.d \
	/usr/share/gcj-$v/classmap.d
    v=$1
	xargs -r -0 $dbtool -m $dbLocation.tmp $dbLocation.tmp || exit 1
