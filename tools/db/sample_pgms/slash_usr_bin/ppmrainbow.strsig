    0 == system qq{$verboseCommand pgmramp -lr $w $Thgt | pgmtoppm "$ARGV[0]-$ARGV[1]" >$outfile}
0 == system qq{$verboseCommand pnmcat -lr @outlist}
# Contributed to the public domain. This software is provided in
	Creates a color bar with smoothly changing colors.
    || die "Cant create tmpdir"; #219019
die "invalid width and/or height\n" unless $Twid >= 1 && $Thgt >= 1;
    die("You must specify at least one color as an argument");
GetOptions("width=i" => \$Twid,
	    -height	height of the color bar (default $Thgt)
           "height=i" => \$Thgt,
if (@ARGV < 1) {
my ($FALSE, $TRUE) = (0,1);
(my $myname = $0) =~ s#\A.*/##;
my $n = 0;
my $numcol = scalar @ARGV;
my @outlist = ();
my $tempdir = tempdir("$myname.XXXXXXX", CLEANUP => 1)
my ($Twid, $Thgt, $tmpdir, $verbose);
(my $usage = <<EOD ) =~ s/^\t//mg;
my $verboseCommand = $verbose ? "set -x;" : "";
    my $w = int(($Twid-1)/$numcol)+1;
    $n++;
# no need to delete anything, as this is automatically done via tempdir
    $numcol--;
	Options:
    or exit 1;
	or exit 1;
push @ARGV, $ARGV[0];
    push @outlist, my $outfile = sprintf "%s/%03u.ppm", $tmpdir, $n;
# set defaults
    shift @ARGV;
# the hope that it will be useful, but without warranty.
$Thgt = 8;
           "tmpdir=s" => \$tmpdir,
	    -tmpdir	working directory (default envar TMPDIR or \/tmp)
$Twid = 600;
    $Twid -= $w;
	Usage: $myname [ options ] color ...
use File::Temp "tempdir";
use Getopt::Long;
use strict;
#!/usr/bin/perl -wl
	    -verbose	echo shell commands to STDERR
$verbose = $FALSE;
           "verbose!" => \$verbose);
while (@ARGV >= 2) {
	    -width	width of the color bar (default $Twid)
# written by Arjen Bax
