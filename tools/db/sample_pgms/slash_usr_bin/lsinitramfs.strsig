#!/bin/sh
        case "$1" in
# Check for non-GNU getopt
		cpio_args="${cpio_args:+${cpio_args} --verbose}"
cpio_args="--extract --quiet --list"
		echo "${initramfs}"
		echo "Internal error!" >&2
		echo "Specified file could not be read." >&2
	echo "Usage: $(basename $0) <initramfs file>"
eval set -- "$OPTIONS"
		exit 0
		exit 1
for initramfs in "$@" ; do
        -h|--help)
if [ $? != 0 ] ; then echo "W: non-GNU getopt" >&2 ; exit 1 ; fi
if [ "$#" -eq 0 ] ; then
	if ! [ -r "${initramfs}" ] ; then
	-l|--long)
OPTIONS=`getopt -o hl --long help,long -n "$0" -- "$@"`
	usage >&2
while true; do
		zcat "${initramfs}" | cpio ${cpio_args}
