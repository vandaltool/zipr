#!/bin/bash -x
	bus=`hal-get-property --udi="$udi" --key=usb.bus_number`
	dev=`hal-get-property --udi="$udi" --key=usb.linux.device_number`
	f-spot --import "$mount_point"
	f-spot --import "$udi"
	f-spot --import "$uri"
	# gphoto2, as passed by gvfs/nautilus
	gvfs-mount -u "$udi" || true
if [ -n "$mount_point" ]; then
if [ "$udi" != "$mnt" ]; then
if [ "$udi" != "${udi#gphoto2:}" ]; then
mnt=${udi#file://}
	# mount point, as passed by gvfs/nautilus.
mount_point=`hal-get-property --udi="$udi" --key=volume.mount_point` || true
	# Some other camera try GPhoto2
udi="$1"
	uri=`printf gphoto2://[usb:%.3d,%.3d] $bus $dev`
	# USB Mass Storage camera: need to pass f-spot a mount point
#xmessage $udi
